<!-- popup.html -->
<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>VU Empire Genie</title>
  <link rel="stylesheet" href="assets/css/popup.css">
</head>

<body>
  <div class="container">
    <div class="header">
      <div class="logo-container">
        <img src="assets/icons/icon.png" class="logo-icon" alt="VU Empire Genie">
        <div class="logo-text">
          <h1>VU Empire Genie</h1>
          <div class="tagline">AI-Powered Study Assistant</div>
        </div>
      </div>
    </div>

    <!-- Page-Specific Actions -->
    <div id="page-actions">
      <!-- Dynamic content based on current page -->
    </div>

    <!-- Settings Section -->
    <div class="settings-section">
      <div class="settings-title">Configuration</div>

      <!-- API Key Settings -->
      <div class="settings-group">
        <div class="input-group">
          <label for="apiKey">Gemini API Key</label>
          <input type="password" id="apiKey" placeholder="Enter your Google AI Studio API key">
          <small style="display: block; margin-top: 8px; opacity: 0.7; font-size: 11px;">
            <a href="https://makersuite.google.com/app/apikey" target="_blank"
              style="color: #93c5fd; text-decoration: none;">
              Get API key from Google AI Studio ‚Üó
            </a>
          </small>
        </div>
        <div class="api-status-section">
          <div class="section-title">
            API Status
          </div>
          <div id="api-status" class="api-status">
            <div id="api-status-loading" class="loading" style="display: none;">
              <div class="loading-spinner"></div>
              <p>Checking API...</p>
            </div>
            <div id="api-status-message" style="display: none;">
              <span class="status-icon">‚úÖ</span>
              <span class="status-text">API ready</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Feature Settings -->
      <div class="settings-group">
        <div class="toggle-item">
          <div class="toggle-label">
            <span>‚úÖ</span>
            <span class="toggle-text">Auto-select Quiz Answer</span>
          </div>
          <label class="toggle-switch">
            <input type="checkbox" id="autoSelect" checked>
            <span class="toggle-slider"></span>
          </label>
        </div>
        <div class="toggle-item">
          <div class="toggle-label">
            <span>üíæ</span>
            <span class="toggle-text">Auto-save Quiz Question</span>
          </div>
          <label class="toggle-switch">
            <input type="checkbox" id="autoSaveQuiz" checked>
            <span class="toggle-slider"></span>
          </label>
        </div>
        <div class="toggle-item">
          <div class="toggle-label">
            <span>üìã</span>
            <span class="toggle-text">Enable GDBs Copy-Paste</span>
          </div>
          <label class="toggle-switch">
            <input type="checkbox" id="enableCopyPaste" checked>
            <span class="toggle-slider"></span>
          </label>
        </div>
        <div class="toggle-item">
          <div class="toggle-label">
            <span>‚è≠Ô∏è</span>
            <span class="toggle-text">Auto-skip Lectures</span>
          </div>
          <label class="toggle-switch">
            <input type="checkbox" id="autoSkipAllLectures" checked>
            <span class="toggle-slider"></span>
          </label>
        </div>
        <div class="toggle-item">
          <div class="toggle-label">
            <span>üîç</span>
            <span class="toggle-text">Show Solution Popup</span>
          </div>
          <label class="toggle-switch">
            <input type="checkbox" id="showSolution" checked>
            <span class="toggle-slider"></span>
          </label>
        </div>
        <div class="toggle-item">
          <div class="toggle-label">
            <span>ü§ñ</span>
            <span class="toggle-text">Auto-solve on Page Load</span>
          </div>
          <label class="toggle-switch">
            <input type="checkbox" id="autoSolve" checked>
            <span class="toggle-slider"></span>
          </label>
        </div>
        <div class="toggle-item">
          <div class="toggle-label">
            <span>‚û°Ô∏è</span>
            <span class="toggle-text">Auto-save & Next Question</span>
          </div>
          <label class="toggle-switch">
            <input type="checkbox" id="autoSaveAfterSolve" checked>
            <span class="toggle-slider"></span>
          </label>
        </div>
        <!-- Save Button -->
        <button class="save-btn" id="saveBtn">Save Settings</button>
      </div>
    </div>  

    <!-- Status Message -->
    <div id="status"></div>

    <!-- Help Link -->
    <a href="options.html" target="_blank" class="help-link">Open full settings page</a>
    <!-- Footer -->
    <div class="footer">
      Powered by VU Empire ‚Ä¢ Made with ‚ù§Ô∏è for VU Students
    </div>
  </div>
  </div>

  <script type="module" src="scripts/script.js"></script>
</body>

</html>