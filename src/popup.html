<!-- popup.html -->
<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>VU Empire Genie</title>
  <link rel="stylesheet" href="assets/css/popup.css">
</head>

<body>
  <div class="container">
    <div class="header">
      <div class="logo-container">
        <img src="assets/icons/icon.png" class="logo-icon" alt="VU Empire Genie">
        <div class="logo-text">
          <h1>VU Empire Genie</h1>
          <div class="tagline">AI-Powered Study Assistant</div>
        </div>
      </div>
    </div>

    <!-- Quota Usage Section -->
    <div class="quota-section">
      <div class="section-title">
        <span>üìä</span> Gemini API Usage
      </div>
    
      <div id="quota-container" class="quota-info">
        <div class="loading" id="quota-loading">
          <div class="loading-spinner"></div>
          <p>Loading quota information...</p>
        </div>
      </div>
    
      <button id="refresh-quota" class="refresh-btn">
        üîÑ Refresh
      </button>
    
      <div id="last-updated" class="last-updated"></div>
    </div>

    <!-- Page-Specific Actions -->
    <div id="page-actions">
      <!-- Dynamic content based on current page -->
    </div>

    <!-- Settings Section -->
    <div class="settings-section">
      <div class="settings-title">Configuration</div>

      <!-- API Key Status -->
      <div id="api-key-status" class="api-key-status">
        Checking API key...
      </div>

      <!-- API Key Settings -->
      <div class="settings-group">
        <div class="input-group">
          <label for="apiKey">Gemini API Key</label>
          <input type="password" id="apiKey" placeholder="Enter your Google AI Studio API key">
          <small style="display: block; margin-top: 8px; opacity: 0.7; font-size: 11px;">
            <a href="https://makersuite.google.com/app/apikey" target="_blank"
              style="color: #93c5fd; text-decoration: none;">
              Get API key from Google AI Studio ‚Üó
            </a>
          </small>
        </div>
      </div>

      <!-- Feature Settings -->
      <div class="settings-group">
        <div class="checkbox-group">
          <input type="checkbox" id="autoSelect" checked>
          <label for="autoSelect">Auto-select Quiz Answer</label>
        </div>
        <div class="checkbox-group">
          <input type="checkbox" id="autoSaveQuiz" checked>
          <label for="autoSaveQuiz">Auto-save Quiz Question</label>
        </div>
        <div class="checkbox-group">
          <input type="checkbox" id="enableCopyPaste" checked>
          <label for="enableCopyPaste">Enable GDBs Copy-Paste</label>
        </div>
        <div class="checkbox-group">
          <input type="checkbox" id="autoSkipAllLectures" checked>
          <label for="autoSkipAllLectures">Auto-skip Lectures</label>
        </div>

        <!-- NEW QUIZ SETTINGS -->
        <div class="quiz-settings-title"
          style="margin-top: 15px; padding-top: 15px; border-top: 1px solid rgba(255,255,255,0.1);">
          <div style="font-size: 12px; opacity: 0.8; margin-bottom: 10px;">Advanced Quiz Settings</div>
        </div>
        
        <div class="checkbox-group">
          <input type="checkbox" id="showSolution" checked>
          <label for="showSolution">Show Solution Popup</label>
        </div>
        <div class="checkbox-group">
          <input type="checkbox" id="autoSolve" checked>
          <label for="autoSolve">Auto-solve on Page Load</label>
        </div>
        <div class="checkbox-group">
          <input type="checkbox" id="autoSaveAfterSolve" checked>
          <label for="autoSaveAfterSolve">Auto-save & Next Question</label>
        </div>
      </div>

      <!-- Save Button -->
      <button class="save-btn" id="saveBtn">Save Settings</button>

      <!-- Status Message -->
      <div id="status"></div>

      <!-- Help Link -->
      <a href="options.html" target="_blank" class="help-link">Open full settings page</a>
    </div>

    <!-- Footer -->
    <div class="footer">
      Powered by VU Empire ‚Ä¢ Made with ‚ù§Ô∏è for VU Students
    </div>
  </div>

  <script type="module" src="scripts/script.js"></script>
</body>

</html>